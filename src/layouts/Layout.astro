---
import Header from '@components/layout/Header.astro';
import Footer from '@components/layout/Footer.astro';
import '@assets/fonts/stylesheet.css';
import '@styles/global.css';
export interface Props {
  title: string;
  description?: string;
  keywords?: string[];
}

const { title, description, keywords } = Astro.props;

const locale = (Astro.currentLocale as 'es' | 'en') || 'en';

// SEO Content based on locale
const seoContent = {
  en: {
    description:
      description ||
      'Luis Farfan - Experienced Tech Lead & Full-Stack Software Engineer. Expert in scalable web applications, team leadership, and delivering high-impact solutions for enterprise clients. Bilingual professional with remote work expertise.',
    keywords: keywords || [
      'Luis Farfan',
      'Tech Lead',
      'Full-Stack Engineer',
      'Software Engineer',
      'React Developer',
      'Node.js Developer',
      'Next.js Expert',
      'JavaScript Developer',
      'TypeScript Developer',
      'Team Leadership',
      'Software Architecture',
      'Web Development',
      'Frontend Developer',
      'Backend Developer',
      'Software Development',
      'Guatemala Developer',
      'Remote Developer',
      'Scalable Applications',
      'Enterprise Solutions',
      'Software Consultant',
      'Bilingual Developer',
      'English Spanish Developer',
      'International Developer',
      'Remote Work Expert',
      'Cross-cultural Communication',
      'Global Software Solutions',
    ],
  },
  es: {
    description:
      description ||
      'Luis Farfan - Líder Técnico y Desarrollador Full-Stack con experiencia. Experto en aplicaciones web escalables, liderazgo de equipos y soluciones de alto impacto para clientes empresariales. Profesional bilingüe con experiencia en trabajo remoto.',
    keywords: keywords || [
      'Luis Farfan',
      'Líder Técnico',
      'Desarrollador Full-Stack',
      'Ingeniero de Software',
      'Desarrollador React',
      'Desarrollador Node.js',
      'Experto Next.js',
      'Desarrollador JavaScript',
      'Desarrollador TypeScript',
      'Liderazgo de Equipos',
      'Arquitectura de Software',
      'Desarrollo Web',
      'Desarrollador Frontend',
      'Desarrollador Backend',
      'Desarrollo de Software',
      'Desarrollador Guatemala',
      'Desarrollador Remoto',
      'Aplicaciones Escalables',
      'Soluciones Empresariales',
      'Consultor de Software',
      'Desarrollador Bilingüe',
      'Desarrollador Inglés Español',
      'Desarrollador Internacional',
      'Experto Trabajo Remoto',
      'Comunicación Intercultural',
      'Soluciones Software Globales',
    ],
  },
};

const currentSEO = seoContent[locale];

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<!doctype html>
<html lang={locale} class="dark scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="theme-color" content="#2dd4bf" />

    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Luis Farfan" />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- Font License Attribution -->
    <!-- 
      Inter Font Copyright 2020 The Inter Project Authors (https://github.com/rsms/inter)
      JetBrains Mono Font Copyright 2020 The JetBrains Mono Project Authors (https://github.com/JetBrains/JetBrainsMono)
      
      This Font Software is licensed under the SIL Open Font License, Version 1.1.
      This license is copied below, and is also available with a FAQ at:
      https://openfontlicense.org
    -->

    <!-- Canonical URL -->
    <link rel="canonical" href={canonicalURL} />

    <!-- Primary Meta Tags -->
    <title>{title}</title>
    <meta name="title" content={title} />
    <meta name="description" content={currentSEO.description} />
    <meta name="keywords" content={currentSEO.keywords.join(', ')} />

    <!-- TODO: ADD CDN URL AND MOVE THINGS TO THERE -->
    <!-- <link rel="preconnect" href={CDN_URL} /> -->
    <link rel="preconnect" href="https://www.google.com" />
    <link rel="preconnect" href="https://www.gstatic.com" crossorigin />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={Astro.url} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={currentSEO.description} />
    <!-- TODO: ADD IMAGE -->
    <!-- <meta property="og:image" content={new URL(image, Astro.url)} /> -->
    <meta property="og:site_name" content={title} />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={Astro.url} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={currentSEO.description} />
    <!-- TODO: ADD IMAGE -->
    <!-- <meta property="twitter:image" content={new URL(image, Astro.url)} /> -->

    <!-- Schema.org markup -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Luis Farfan",
        "jobTitle": "Tech Lead & Full-Stack Software Engineer",
        "url": "https://luisefarfan.dev",
        "sameAs": [
          "https://www.linkedin.com/in/luisefarfan/",
          "https://github.com/luisefarfan"
        ]
      }
    </script>
  </head>
  <body
    class="bg-dark-900 text-white m-0 p-0 box-border font-sans text-base/normal"
  >
    <Header lang={locale} />
    <main>
      <slot />
    </main>
    <Footer lang={locale} />
  </body>
</html>
